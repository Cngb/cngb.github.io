webpackJsonp([5],{me0y:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={name:"baike",data:function(){return{navList:[],num:0,proList:[],pages:[],totalPage:1,thisPage:1,loading:!1}},created:function(){var t=this;this.$axios.get("https://api.meiweixueyuan.cn/wap/index/top",{headers:{Accept:"application/prs.meiweixueyuan.v1+json"}}).then(function(a){t.navList=a.data.categories;for(var e=0;e<t.navList.length;e++)t.theId=t.navList[e].id}).catch(function(t){console.log(t)}),this.getData()},methods:{coursesTab:function(t){this.num=t,this.thisPage=1},getData:function(){var t=this;this.loading=!0,this.num=this.$route.query.category_id-1,this.$axios.get(this.HOST+"/courses?category_id="+this.$route.query.category_id+"&page="+this.thisPage,{headers:{Accept:"application/prs.meiweixueyuan.v1+json"}}).then(function(a){return t.loading=!1,t.proList=a.data.data,t.pages=a.data.meta.pagination,t.totalPage=t.pages.total_pages,t.proList.reverse()}).catch(function(t){console.log(t)})},handleCurrentChange:function(t){if(this.$route.query.category_id){var a="/baike?category_id="+this.$route.query.category_id+"&page="+t;this.$router.replace(a),this.thisPage=t}else{a="/baike?page="+t;this.$router.replace(a),this.thisPage=t,this.num=null}}},watch:{$route:"getData"}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"baike"}},[t.loading?e("div",{staticClass:"request_loading"},[e("div",{staticClass:"this_loading"})]):t._e(),t._v(" "),e("div",{staticClass:"product_nav"},[e("ul",t._l(t.navList,function(a,i){return e("li",{key:i,class:{pro_nav_active:i==t.num},on:{click:function(a){return t.coursesTab(i)}}},[e("router-link",{attrs:{to:{path:"baike",query:{category_id:a.id}}}},[t._v(t._s(a.name))])],1)}),0)]),t._v(" "),e("div",{staticClass:"product_list"},[e("ul",t._l(t.proList,function(a){return e("li",[e("router-link",{attrs:{to:{path:"baike/"+a.id+"/"+a.slug}}},[e("div",{staticClass:"product_pic"},[e("img",{attrs:{src:"https://img.xhmwxy.com/"+a.image,alt:a.name}})]),t._v(" "),e("div",{staticClass:"product_presentation clearfix"},[e("div",{staticClass:"pro_pre_word"},[e("span",[t._v(t._s(a.name))]),t._v(" "),e("p",[t._v("\n\t\t\t\t\t\t\t\t报名人数：\n\t\t\t\t\t\t\t\t"),e("span",[t._v(t._s(a.apply_count))])])]),t._v(" "),e("div",{staticClass:"pro_pre_icon"},[e("i")])])])],1)}),0)]),t._v(" "),e("div",{staticClass:"turn_pages"},[e("div",{staticClass:"turn_pages_wrap"},[e("el-pagination",{attrs:{"current-page":t.thisPage,"prev-text":"上一页",background:"",layout:"prev, pager, next","page-size":20,"page-count":t.totalPage,"pager-count":5,"hide-on-single-page":"","next-text":"下一页"},on:{"current-change":t.handleCurrentChange}})],1)])])},staticRenderFns:[]};var n=e("VU/8")(i,s,!1,function(t){e("oGEd")},null,null);a.default=n.exports},oGEd:function(t,a){}});